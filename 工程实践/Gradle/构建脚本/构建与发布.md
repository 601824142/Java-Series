# Gradle 构建

和 Maven 一样，Gradle 也是通过 artifact 来打包构建的。得益于上述的 Gradle 本身的特性，artifact 在 Gradle 里实现得更灵活一些。看一个例子：

```sh
$ cat userguide/artifacts/uploading/build.gradle

## jar类型的artifact
task myJar(type: Jar)
artifacts {
    archives myJar
}
## file类型的artifact
def someFile = file('build/somefile.txt')
artifacts {
    archives someFile
}

## 根据自定义task来完成artifact
task myTask(type:  MyTaskType) {
    destFile = file('build/somefile.txt')
}
artifacts {
    archives(myTask.destFile) {
        name 'my-artifact'
        type 'text'
        builtBy myTask
    }
}

## 根据自定义task来完成artifact
task generate(type:  MyTaskType) {
    destFile = file('build/somefile.txt')
}
artifacts {
    archives file: generate.destFile, name: 'my-artifact', type: 'text', builtBy: generate
}
```

这样就简单地定义了好几种 artifact 生成的定义，根据不同的场景需求，生成文本文件、jar 包或者 zip，还可以再上传到服务器上。 一般情况下，常用的插件，比如说 `Java plugin` 都默认定义了 jar 这样的 artifact task，所以一般不需要额外开发。但是，针对于一些复杂情况，或者在 plugin 基础上增强的话，自定义 artifact task 还是非常有用的。

# 项目发布

Gradle 构建的项目，发布到仓库中，也非常容易：

```groovy
apply plugin: 'maven'

uploadArchives {
    repositories {
        ivy {
            credentials {
                username "username"
                password "pw"
            }
            url "http://repo.mycompany.com"
        }
    }
}
```
